<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Ajout de produit</title>
  <style>
    button {
      background-color: rgb(88, 176, 235);
    }
    body {
      margin-left: 10px;
      padding: 0;
      background-color: #f4f4f4;
      font-family: arial;
    }
    .container {
      width: 220px;
      background-color: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 1);
      margin: 20px;
      display: inline-block;
    }
    .image {
      background-color: #d0f0fd;
      padding: 10px;
    }
    .image img {
      width: 100%;
      border-radius: 8px;
    }
    .name {
      background-color: #ffe6cc;
      text-align: center;
      padding: 10px;
      font-weight: bold;
      font-size: 16px;
    }
    .price {
      padding: 8px 10px;
      font-size: 14px;
      color: #444;
    }
    .star {
      text-align: center;
      font-size: 18px;
    }
    .button {
      background-color: #c8f7c5;
      text-align: center;
      padding: 10px;
    }
    .button button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 8px 16px;
      cursor: pointer;
    }
    .button button:hover {
      background-color: #218838;
    }
    .formulaire {
      background-color: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 300px;
      margin: 20px;
    }
    input, select {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

  <div class="formulaire">
    <h3>Ajouter un produit</h3>
    <input type="text" id="nom" placeholder="Nom du produit">
    <input type="text" id="prix" placeholder="Prix (ex: 7000fcfa)">
    <select id="etoiles">
      <option value="⭐">⭐</option>
      <option value="⭐⭐">⭐⭐</option>
      <option value="⭐⭐⭐">⭐⭐⭐</option>
      <option value="⭐⭐⭐⭐">⭐⭐⭐⭐</option>
      <option value="⭐⭐⭐⭐⭐" selected>⭐⭐⭐⭐⭐</option>
    </select>
    <input type="file" id="imageInput" accept="image/*">
    <button onclick="ajouterProduit()">Ajouter</button>
  </div>

  <script>
    function ajouterProduit() {
      const nom = document.getElementById('nom').value;
      const prix = document.getElementById('prix').value;
      const etoiles = document.getElementById('etoiles').value;
      const imageInput = document.getElementById('imageInput');
      const fichier = imageInput.files[0];

      if (!nom || !prix || !fichier) {
        alert("Veuillez remplir tous les champs.");
        return;
      }

      const lecteur = new FileReader();
      lecteur.onload = function () {
        const imageBase64 = lecteur.result;
        const produit = { nom, prix, etoiles, image: imageBase64 };

        const produits = JSON.parse(localStorage.getItem('produits')) || [];
        produits.push(produit);
        localStorage.setItem('produits', JSON.stringify(produits));

        window.location.href = "produit.html";
      };

      lecteur.readAsDataURL(fichier);
    }
  </script>

</body>
</html>
